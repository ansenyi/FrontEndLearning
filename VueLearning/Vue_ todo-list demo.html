<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<div id="todo-list-example">
 		 <input v-model="newTodoText" v-on:keyup.enter="addNewTodo" placeholder="添加一个新的待办事项">
  		 <ul>
           <li
             is="todo-item"
             v-for="(todo, index) in todos"
             v-bind:key="todo.id"
             v-bind:title="todo.title"
             v-on:remove="todos.splice(index, 1)"
            >
           </li>
          </ul>
        </div>
    <script type="text/javascript" src="../js/vue.min.js" ></script>
    <script type="text/javascript">
    	Vue.component('todo-item', {
  		template: '\
   		 <li>\
    	  {{ title }}\
      		<button v-on:click="$emit(\'remove\')">删除</button>\
   		 </li>\
		  ',
		  props: ['title']
		})
		new Vue({
		  el: '#todo-list-example',
		  data: {
		    newTodoText: '',
		    todos: [
		      {
		        id: 1,
		        title: '洗盘子',
		      },
		      {
		        id: 2,
		        title: '倒垃圾',
		      },
		      {
		        id: 3,
		        title: '割草坪'
		      }
		    ],
		    nextTodoId: 4
		  },
		  methods: {
		    addNewTodo: function () {
		      this.todos.push({
		        id: this.nextTodoId++,
		        title: this.newTodoText
		      })
		      this.newTodoText = ''
		    }
		  }
		})
    </script>
	</body>
</html>
